mapscripts PalletTown_PlayersHouse_2F_MapScripts {
    MAP_SCRIPT_ON_TRANSITION: PalletTown_PlayersHouse_2F_OnTransition
    MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE: PalletTown_PlayersHouse_2F_OnWarp
}

script PalletTown_PlayersHouse_2F_OnTransition {
    call_if_eq(VAR_MAP_SCENE_PALLET_TOWN_PLAYERS_HOUSE_2F, 0, PalletTown_PlayersHouse_2F_EventScript_SetRespawn)
}

script PalletTown_PlayersHouse_2F_EventScript_SetRespawn {
    setrespawn(HEAL_LOCATION_PALLET_TOWN)
    return
}

script PalletTown_PlayersHouse_2F_OnWarp {
    map_script_2(VAR_MAP_SCENE_PALLET_TOWN_PLAYERS_HOUSE_2F, 0, PalletTown_PlayersHouse_2F_FirstWarpIn)
}

script PalletTown_PlayersHouse_2F_FirstWarpIn {
    turnobject(OBJ_EVENT_ID_PLAYER, DIR_NORTH)
    setvar(VAR_MAP_SCENE_PALLET_TOWN_PLAYERS_HOUSE_2F, 1)
}

script PalletTown_PlayersHouse_2F_EventScript_NES {
    msgbox(PalletTown_PlayersHouse_2F_Text_PlayedWithNES, MSGBOX_SIGN)
}

script PalletTown_PlayersHouse_2F_EventScript_Sign {
    msgbox(PalletTown_PlayersHouse_2F_Text_PressLRForHelp, MSGBOX_SIGN)
}

script PalletTown_PlayersHouse_2F_EventScript_PC {
    goto_if_questlog(EventScript_ReleaseEnd)
    lockall
    setvar(VAR_0x8004, HELPCONTEXT_BEDROOM_PC)
    special(Script_SetHelpContext)
    setvar(VAR_0x8004, 1)
    special(AnimatePcTurnOn)
    playse(SE_PC_ON)
    msgbox(Text_PlayerBootedUpPC)
    special(BedroomPC)
    waitstate
    special(SetHelpContextForMap)
    releaseall
}

script EventScript_PalletTown_PlayersHouse_2F_ShutDownPC {
    setvar(VAR_0x8004, 1)
    playse(SE_PC_OFF)
    special(AnimatePcTurnOff)
    special(SetHelpContextForMap)
    releaseall
}

script PalletTown_PlayersHouse_2F_EventScript_DebugNPC {
    lock
    faceplayer
    msgbox("I am the PRO'S CHOICE.\nHow can I help you debug?")
    multichoice(0, 0, MULTICHOICE_DEBUG_MENU, FALSE)
    switch(var(VAR_RESULT)) {
        case 0:
            givemon(SPECIES_MEW, 100, ITEM_NONE)
            msgbox("Given a Level 100 MEW.")
        case 1:
            giveitem(ITEM_BICYCLE)
            giveitem(ITEM_MAX_REPEL, 99)
            setflag(FLAG_SYS_B_DASH)
            msgbox("Given BICYCLE, 99 MAX REPEL,\nand RUNNING SHOES.")
        case 2:
            setflag(FLAG_SYS_POKEMON_GET)
            setflag(FLAG_SYS_POKEDEX_GET)
            setflag(FLAG_WORLD_MAP_PALLET_TOWN)
            setvar(VAR_MAP_SCENE_PALLET_TOWN_PROFESSOR_OAKS_LAB, 6)
            msgbox("Story flags set.")
        case 3:
            msgbox("Where to?")
            multichoice(0, 0, MULTICHOICE_DEBUG_WARP, FALSE)
            switch(var(VAR_RESULT)) {
                case 0: warp(MAP_PALLET_TOWN, 255, 10, 10)
                case 1: warp(MAP_PEWTER_CITY, 255, 10, 10)
                case 2: warp(MAP_INDIGO_PLATEAU_EXTERIOR, 255, 10, 10)
            }
    }
    release
}
